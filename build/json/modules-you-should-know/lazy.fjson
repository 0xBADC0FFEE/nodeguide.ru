{"body": "<div class=\"section\" id=\"node-js-lazy\">\n<h1>Node.js \u043c\u043e\u0434\u0443\u043b\u0438, \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u043d\u0430\u0442\u044c: lazy<a class=\"headerlink\" href=\"#node-js-lazy\" title=\"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u044d\u0442\u043e\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a\">\u00b6</a></h1>\n<p>\u0412\u0441\u0435\u043c \u043f\u0440\u0438\u0432\u0435\u0442! \u042d\u0442\u043e \u0442\u0440\u0435\u0442\u0438\u0439 \u043f\u043e\u0441\u0442 \u0432 \u043c\u043e\u0435\u0439 \u043d\u043e\u0432\u043e\u0439 \u0441\u0435\u0440\u0438\u0438 \u0441\u0442\u0430\u0442\u0435\u0439 <strong>\u00abNode.js \u043c\u043e\u0434\u0443\u043b\u0438, \u043e\n\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u043d\u0430\u0442\u044c\u00bb</strong>.</p>\n<p>\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442 \u0431\u044b\u043b \u043f\u0440\u043e <a class=\"reference external\" href=\"http://github.com/substack/dnode\">dnode</a> - \u0444\u0440\u0438\u0441\u0442\u0430\u0439\u043b RPC \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0434\u043b\u044f node.js. \u0412\u0442\u043e\u0440\u043e\u0439 \u043f\u043e\u0441\u0442\n\u0431\u044b\u043b <a class=\"reference external\" href=\"https://github.com/substack/node-optimist\">optimist</a> - \u043b\u0435\u0433\u043a\u043e\u0432\u0435\u0441\u043d\u044b\u0439 \u043f\u0430\u0440\u0441\u0435\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043b\u044f node.js.</p>\n<p>\u0412 \u044d\u0442\u043e\u0442 \u0440\u0430\u0437 \u044f \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e \u043e\u0434\u0438\u043d \u0438\u0437 \u043c\u043e\u0438\u0445 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u2014 <a class=\"reference external\" href=\"https://github.com/pkrumins/node-lazy\">node-lazy</a> \u2014 \u043c\u043e\u0434\u0443\u043b\u044c\n\u043b\u0435\u043d\u0438\u0432\u044b\u0445 \u0441\u043f\u0438\u0441\u043a\u043e\u0432 \u0434\u043b\u044f node.js.</p>\n<p>\u0421\u0443\u0442\u044c: \u0432\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 lazy-\u043e\u0431\u044a\u0435\u043a\u0442 \u0438 \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0431\u044b\u0442\u0438\u044f <tt class=\"docutils literal\"><span class=\"pre\">data</span></tt> (lazy-\u043e\u0431\u044a\u0435\u043a\u0442\n\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0439) \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0435 \u0432 \u043d\u0435\u0433\u043e \u0434\u0430\u043d\u043d\u044b\u0435. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435\n\u043c\u0430\u043d\u0438\u043f\u0443\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0438\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u044f, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435\n\u043c\u0435\u0442\u043e\u0434\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f.</p>\n<p>\u041d\u0438\u0436\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043f\u0440\u0438\u043c\u0435\u0440, \u0433\u0434\u0435 \u043c\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u043c lazy-\u043e\u0431\u044a\u0435\u043a\u0442 \u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c\n\u0444\u0438\u043b\u044c\u0442\u0440 (<tt class=\"docutils literal\"><span class=\"pre\">filter</span></tt>), \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0442\u043d\u044b\u0435 \u0447\u0438\u0441\u043b\u0430. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u044b\n\u0431\u0435\u0440\u0435\u043c (<tt class=\"docutils literal\"><span class=\"pre\">take</span></tt>) \u0442\u043e\u043b\u044c\u043a\u043e 5 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432, \u043a \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u043c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0443\u044e\n\u0444\u0443\u043d\u043a\u0446\u0438\u044e (<tt class=\"docutils literal\"><span class=\"pre\">map</span></tt>) \u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u044f\u0435\u043c (<tt class=\"docutils literal\"><span class=\"pre\">join</span></tt>, \u0432 \u043f\u043e\u043d\u044f\u0442\u0438\u044f\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432) \u0432 \u0441\u043f\u0438\u0441\u043e\u043a:</p>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">Lazy</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">&#39;lazy&#39;</span><span class=\"p\">);</span>\n\n<span class=\"kd\">var</span> <span class=\"nx\">lazy</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Lazy</span><span class=\"p\">;</span>\n<span class=\"nx\">lazy</span>\n  <span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">item</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">item</span> <span class=\"o\">%</span> <span class=\"mi\">2</span> <span class=\"o\">==</span> <span class=\"mi\">0</span>\n  <span class=\"p\">})</span>\n  <span class=\"p\">.</span><span class=\"nx\">take</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n  <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">item</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">item</span><span class=\"o\">*</span><span class=\"mi\">2</span><span class=\"p\">;</span>\n  <span class=\"p\">})</span>\n  <span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n</pre></div>\n</div>\n<p>\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0438\u0437 \u0432\u0430\u0448\u0435\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0438 \u043f\u043e\u0437\u0436\u0435, \u043a\u043e\u0433\u0434\u0430 \u043a\u0442\u043e-\u0442\u043e\n\u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0432 \u043e\u0431\u044a\u0435\u043a\u0442 \u0434\u0430\u043d\u043d\u044b\u0435 \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 <tt class=\"docutils literal\"><span class=\"pre\">data</span></tt>, \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b \u0432\u0441\u0435\n\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0434\u0435\u0441\u044c \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f.</p>\n<p>\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0435\u0441\u043b\u0438 \u0432\u044b \u0441\u0434\u0435\u043b\u0430\u0435\u0442\u0435 \u0442\u0430\u043a:</p>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"mi\">10</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">x</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"nx\">lazy</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">&#39;data&#39;</span><span class=\"p\">,</span> <span class=\"nx\">x</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n<span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"nx\">lazy</span><span class=\"p\">.</span><span class=\"nx\">emit</span><span class=\"p\">(</span><span class=\"s1\">&#39;end&#39;</span><span class=\"p\">)</span> <span class=\"p\">},</span> <span class=\"mi\">100</span><span class=\"p\">);</span>\n</pre></div>\n</div>\n<p>\u0422\u043e \u0432\u044b\u0432\u043e\u0434 \u043d\u0430 \u044d\u043a\u0440\u0430\u043d \u0447\u0435\u0440\u0435\u0437 <tt class=\"docutils literal\"><span class=\"pre\">console.log()</span></tt> \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0442\u043e\u0433\u0434\u0430, \u043a\u043e\u0433\u0434\u0430 5\n\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u0440\u043e\u0439\u0434\u0443\u0442 \u0432\u0441\u044e \u0437\u0430\u0434\u0430\u043d\u043d\u0443\u044e \u0446\u0435\u043f\u044c \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0439.</p>\n<p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0431\u0443\u0434\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439: <tt class=\"docutils literal\"><span class=\"pre\">[0,</span> <span class=\"pre\">4,</span> <span class=\"pre\">8,</span> <span class=\"pre\">12,</span> <span class=\"pre\">16]</span></tt>.</p>\n<p>\u0410 \u0432\u043e\u0442 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u0438\u043c\u0435\u0440 \u0438\u0437 \u043c\u043e\u0434\u0443\u043b\u044f <a class=\"reference external\" href=\"https://github.com/pkrumins/node-iptables\">node-iptables</a> (\u0435\u0449\u0435 \u043e\u0434\u0438\u043d \u043c\u043e\u0439 \u043c\u043e\u0434\u0443\u043b\u044c):</p>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">Lazy</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">&#39;lazy&#39;</span><span class=\"p\">);</span>\n<span class=\"kd\">var</span> <span class=\"nx\">spawn</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">&#39;child_process&#39;</span><span class=\"p\">).</span><span class=\"nx\">spawn</span><span class=\"p\">;</span>\n<span class=\"kd\">var</span> <span class=\"nx\">iptables</span> <span class=\"o\">=</span> <span class=\"nx\">spawn</span><span class=\"p\">(</span><span class=\"s1\">&#39;iptables&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;-L&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;-n&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;-v&#39;</span><span class=\"p\">]);</span>\n\n<span class=\"nx\">Lazy</span><span class=\"p\">(</span><span class=\"nx\">iptables</span><span class=\"p\">.</span><span class=\"nx\">stdout</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">lines</span>\n    <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nb\">String</span><span class=\"p\">)</span>\n    <span class=\"p\">.</span><span class=\"nx\">skip</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"c1\">// \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0434\u0432\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 - iptables \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438</span>\n    <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">line</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// packets, bytes, target, pro, opt, in, out, src, dst, opts</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">fields</span> <span class=\"o\">=</span> <span class=\"nx\">line</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">().</span><span class=\"nx\">split</span><span class=\"p\">(</span><span class=\"sr\">/\\s+/</span><span class=\"p\">,</span> <span class=\"mi\">9</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span> <span class=\"p\">{</span>\n            <span class=\"nx\">parsed</span> <span class=\"o\">:</span> <span class=\"p\">{</span>\n                <span class=\"nx\">packets</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span>\n                <span class=\"nx\">bytes</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span>\n                <span class=\"nx\">target</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">],</span>\n                <span class=\"nx\">protocol</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">],</span>\n                <span class=\"nx\">opt</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">],</span>\n                <span class=\"k\">in</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">5</span><span class=\"p\">],</span>\n                <span class=\"nx\">out</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">6</span><span class=\"p\">],</span>\n                <span class=\"nx\">src</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">7</span><span class=\"p\">],</span>\n                <span class=\"nx\">dst</span> <span class=\"o\">:</span> <span class=\"nx\">fields</span><span class=\"p\">[</span><span class=\"mi\">8</span><span class=\"p\">]</span>\n            <span class=\"p\">},</span>\n            <span class=\"nx\">raw</span> <span class=\"o\">:</span> <span class=\"nx\">line</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">()</span>\n        <span class=\"p\">};</span>\n    <span class=\"p\">});</span>\n</pre></div>\n</div>\n<p>\u0412 \u044d\u0442\u043e\u043c \u043f\u0440\u0438\u043c\u0435\u0440\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u0432\u044b\u0432\u043e\u0434 <tt class=\"docutils literal\"><span class=\"pre\">iptables</span> <span class=\"pre\">-L</span> <span class=\"pre\">-n</span> <span class=\"pre\">-v</span></tt> \u0438 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u0435\u0442 \u0435\u0433\u043e\n\u0432 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f.</p>\n<p>\u041d\u043e\u0432\u044b\u0439 lazy-\u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u2014 \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\n\u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f <tt class=\"docutils literal\"><span class=\"pre\">iptables.stdout</span></tt>. \u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0448\u0430\u0433\u043e\u043c \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0433\u0435\u0442\u0442\u0435\u0440 <tt class=\"docutils literal\"><span class=\"pre\">lines</span></tt>,\n\u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0430\u0437\u0431\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u0442\u043e\u043a \u043d\u0430 \u043a\u0443\u0441\u043a\u0438, \u043e\u0440\u0438\u0435\u043d\u0442\u0438\u0440\u0443\u044f\u0441\u044c \u043d\u0430 \u0441\u0438\u043c\u0432\u043e\u043b <tt class=\"docutils literal\"><span class=\"pre\">\\n</span></tt>. \u0414\u0430\u043b\u0435\u0435 \u043a\u0430\u0436\u0434\u044b\u0439\n\u043a\u0443\u0441\u043e\u043a \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 <tt class=\"docutils literal\"><span class=\"pre\">String</span></tt>, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0441\u0442\u0440\u043e\u043a\u0443.\n\u0414\u0430\u043b\u0435\u0435 \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u043f\u0435\u0440\u0432\u044b\u0435 \u0434\u0432\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0432\u044b\u0437\u043e\u0432\u0430 <tt class=\"docutils literal\"><span class=\"pre\">skip(2)</span></tt> \u0438 \u0432 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438\n\u0432\u0441\u0435 \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <tt class=\"docutils literal\"><span class=\"pre\">map</span></tt>.</p>\n<p>\u0421 \u043f\u043e\u043c\u043e\u0449\u044c\u044e node-lazy \u0432\u044b \u0442\u0430\u043a \u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u043e\u0433\u043e \u0440\u043e\u0434\u0430 \u0440\u044f\u0434\u044b, \u0432\u043a\u043b\u044e\u0447\u0430\u044f\n\u0438 \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <tt class=\"docutils literal\"><span class=\"pre\">ranges.js</span></tt>:</p>\n<div class=\"highlight-javascript\"><div class=\"highlight\"><pre><span class=\"kd\">var</span> <span class=\"nx\">Lazy</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">&#39;lazy&#39;</span><span class=\"p\">);</span>\n\n<span class=\"nx\">Lazy</span><span class=\"p\">.</span><span class=\"nx\">range</span><span class=\"p\">(</span><span class=\"s1\">&#39;1..20&#39;</span><span class=\"p\">).</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">Lazy</span><span class=\"p\">.</span><span class=\"nx\">range</span><span class=\"p\">(</span><span class=\"s1\">&#39;444..&#39;</span><span class=\"p\">).</span><span class=\"nx\">take</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">).</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">Lazy</span><span class=\"p\">.</span><span class=\"nx\">range</span><span class=\"p\">(</span><span class=\"s1\">&#39;2,4..20&#39;</span><span class=\"p\">).</span><span class=\"nx\">take</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">).</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">xs</span><span class=\"p\">);</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n<p>\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0431\u0443\u0434\u0435\u0442:</p>\n<div class=\"highlight-bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span>node ranges.js\n<span class=\"o\">[</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19 <span class=\"o\">]</span>\n<span class=\"o\">[</span> 2, 4, 6, 8, 10, 12, 14, 16, 18 <span class=\"o\">]</span>\n<span class=\"o\">[</span> 444, 445, 446, 447, 448, 449, 450, 451, 452, 453 <span class=\"o\">]</span>\n</pre></div>\n</div>\n<p>\u041d\u0438\u0436\u0435 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u044b \u0432\u0441\u0435 \u0440\u044f\u0434\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 node-lazy:</p>\n<div class=\"highlight-python\"><pre>Lazy.range('10..')       - \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0440\u044f\u0434, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 10\nLazy.range('(10..')      - \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0440\u044f\u0434, \u043d\u0430\u0447\u0438\u043d\u0430\u044f \u0441 11\nLazy.range(10)           - \u0440\u044f\u0434 \u043e\u0442 0 \u0434\u043e 9\nLazy.range(-10, 10)      - \u0440\u044f\u0434 \u043e\u0442 -10 \u0434\u043e 9 (-10, -9, ... 0, 1, ... 9)\nLazy.range(-10, 10, 2)   - \u0440\u044f\u0434 \u043e\u0442 -10 \u0434\u043e 8, \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u0432\u0442\u043e\u0440\u043e\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 (-10, -8, ... 0, 2, 4, 6, 8)\nLazy.range(10, 0, 2)     - \u0438\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0440\u044f\u0434 \u043e\u0442 10 \u0434\u043e 1, \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u0432\u0442\u043e\u0440\u043e\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 (10, 8, 6, 4, 2)\nLazy.range(10, 0)        - \u0438\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0440\u044f\u0434 \u043e\u0442 10 \u0434\u043e 1\nLazy.range('5..50')      - \u0440\u044f\u0434 \u043e\u0442 5 \u0434\u043e 49\nLazy.range('50..44')     - \u0440\u044f\u0434 \u043e\u0442 50 \u0434\u043e 45\nLazy.range('1,1.1..4')   - \u0440\u044f\u0434 \u043e\u0442 1 \u0434\u043e 4 \u0441 \u0448\u0430\u0433\u043e\u043c 0.1 (1, 1.1, 1.2, ... 3.9)\nLazy.range('4,3.9..1')   - \u0438\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0440\u044f\u0434 \u043e\u0442 4 \u0434\u043e 1 \u0441 \u0448\u0430\u0433\u043e\u043c 0.1\nLazy.range('[1..10]')    - \u0440\u044f\u0434 \u043e\u0442 1 \u0434\u043e 10 (\u0433\u0440\u0430\u043d\u0438\u0446\u044b \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b)\nLazy.range('[10..1]')    - \u0440\u044f\u0434 \u043e\u0442 10 \u0434\u043e 1 (\u0433\u0440\u0430\u043d\u0438\u0446\u044b \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b)\nLazy.range('[1..10)')    - \u0440\u044f\u0434 \u043e\u0442 1 \u0434\u043e 9\nLazy.range('[10..1)')    - \u0440\u044f\u0434 \u043e\u0442 10 \u0434\u043e 2\nLazy.range('(1..10]')    - \u0440\u044f\u0434 \u043e\u0442 2 \u0434\u043e 10\nLazy.range('(10..1]')    - \u0440\u044f\u0434 \u043e\u0442 9 \u0434\u043e 1\nLazy.range('(1..10)')    - \u0440\u044f\u0434 \u043e\u0442 2 \u0434\u043e 9\nLazy.range('[5,10..50]') - \u0440\u044f\u0434 \u043e\u0442 5 \u0434\u043e 50 \u0441 \u0448\u0430\u0433\u043e\u043c 5 (\u0433\u0440\u0430\u043d\u0438\u0446\u044b \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b)</pre>\n</div>\n<p>\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 npm:</p>\n<div class=\"highlight-bash\"><div class=\"highlight\"><pre>npm install lazy\n</pre></div>\n</div>\n</div>\n", "display_toc": false, "title": "Node.js \u043c\u043e\u0434\u0443\u043b\u0438, \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u043d\u0430\u0442\u044c: lazy", "sourcename": "modules-you-should-know/lazy.txt", "customsidebar": null, "current_page_name": "modules-you-should-know/lazy", "next": {"link": "../../links/", "title": "\u0420\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f Node.js"}, "rellinks": [["genindex", "\u0421\u043b\u043e\u0432\u0430\u0440\u044c-\u0443\u043a\u0430\u0437\u0430\u0442\u0435\u043b\u044c", "I", "\u0441\u043b\u043e\u0432\u0430\u0440\u044c"], ["links", "\u0420\u0435\u0441\u0443\u0440\u0441\u044b \u0434\u043b\u044f \u0438\u0437\u0443\u0447\u0435\u043d\u0438\u044f Node.js", "N", "\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439"], ["modules-you-should-know/optimist", "Node.js \u043c\u043e\u0434\u0443\u043b\u0438, \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u043d\u0430\u0442\u044c: optimist", "P", "\u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439"]], "meta": {}, "parents": [{"link": "../", "title": "Node.js \u043c\u043e\u0434\u0443\u043b\u0438, \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u043d\u0430\u0442\u044c"}], "sidebars": null, "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Node.js \u043c\u043e\u0434\u0443\u043b\u0438, \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u043d\u0430\u0442\u044c: lazy</a></li>\n</ul>\n", "prev": {"link": "../optimist/", "title": "Node.js \u043c\u043e\u0434\u0443\u043b\u0438, \u043e \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u0437\u043d\u0430\u0442\u044c: optimist"}, "metatags": ""}